{"version":3,"sources":["pages/pagenumber/PageNumber.js","pages/PageTag.js"],"names":["BasicPagination","searchParams","pageCount","setSearchParam","dispatch","useContext","StoreContext","data","spacing","color","page","Number","get","size","count","onChange","e","setData","PageTag","id","title","AuthData","AuthContext","themeStretch","useSettings","state","useState","expanded","setExpanded","totalPage","setTotalPage","useSearchParams","setSearchParams","documents","setDocuments","useEffect","fetch","BASE_URL","mode","then","res","json","TOTAL_PAGE","Math","ceil","full_count","catch","err","console","log","style","marginBottom","maxWidth","undefined","sx","direction","className","map","mapDoc","panel","event","isExpanded"],"mappings":"uPAOe,SAASA,EAAT,GAAuE,IAA5CC,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,eACxDC,EAAT,YAAqBC,qBAAWC,KAAcC,KAA9C,MACA,OACE,cAAC,IAAD,CAAOC,QAAS,EAAhB,SACE,cAAC,IAAD,CACEC,MAAM,UACNC,KAAMC,OAAOV,EAAaW,IAAI,SAC9BC,KAAK,SACLC,MAAOH,OAAOT,GACda,SAAU,SAACC,EAAGN,GACZP,EAAe,CAAEO,KAAK,GAAD,OAAKA,KAC1BN,EAASa,YAAQ,Y,8NCAZ,SAASC,EAAT,GAAiC,IAAdC,EAAa,EAAbA,GAAIC,EAAS,EAATA,MAC9BC,EAAWhB,qBAAWiB,KACpBC,EAAiBC,cAAjBD,aACFE,EAAQpB,qBAAWC,KAAcC,KAAK,GAC5C,EAAgCmB,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAkCF,mBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAwCC,YAAgB,CAAErB,KAAM,MAAhE,mBAAOT,EAAP,KAAqB+B,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KACAC,qBAAU,WAYR,OAXAC,MAAM,GAAD,OAAIC,IAAJ,gBAAoBlB,EAApB,iBAA+BlB,EAAaW,IAAI,SAAW,CAAE0B,KAAM,SACrEC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAChC,GACL2B,EAAa3B,GACb,IAAMmC,EAAaC,KAAKC,KAAKrC,EAAK,GAAGsC,WAAa,IAClDf,EAAaY,MAEdI,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZjB,EAAa,MAEV,WACLI,EAAa,OAEd,CAACjC,EAAckB,IAIlB,OACE,eAAC,IAAD,CAAMC,MAAK,UAAKA,EAAL,wBAAX,UACE,oBAAI8B,MAAO,CAAEC,aAAc,QAA3B,SAAsC/B,IACtC,eAAC,IAAD,CAAWgC,UAAU7B,GAAuB,KAA5C,eACoB8B,IAAjBpB,EAAU,GACT,cAAC,IAAD,CAAOqB,GAAI,CAAE7C,MAAO,YAAcD,QAAS,EAAG+C,UAAU,MAAMC,UAAU,kBAAxE,SACE,cAAC,IAAD,CAAkB/C,MAAM,gBAG1BwB,EAAUwB,IAAIC,YAAO/B,GAZR,SAACgC,GAAD,OAAW,SAACC,EAAOC,GACtCjC,IAAYiC,GAAaF,MAW0BtC,EAAUI,IAEzD,cAAC,IAAD,CAAYxB,aAAcA,EAAcC,UAAW2B,EAAW1B,eAAgB6B","file":"static/js/5.8f42f66f.chunk.js","sourcesContent":["import Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport './Style.css';\nimport { useContext } from 'react';\nimport { StoreContext } from '../../store';\nimport { setData } from '../../store/reducer';\n// eslint-disable-next-line react/prop-types\nexport default function BasicPagination({ searchParams, pageCount, setSearchParam }) {\n  const [, dispatch] = useContext(StoreContext).data;\n  return (\n    <Stack spacing={2}>\n      <Pagination\n        color=\"primary\"\n        page={Number(searchParams.get('page'))}\n        size=\"medium\"\n        count={Number(pageCount)}\n        onChange={(e, page) => {\n          setSearchParam({ page: `${page}` });\n          dispatch(setData([]));\n        }}\n      />\n    </Stack>\n  );\n}\n","// material\nimport { CircularProgress, Container, Stack } from '@mui/material';\n// hooks\nimport { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport useSettings from '../hooks/useSettings';\n// components\nimport Page from '../components/Page';\nimport PageNumber from './pagenumber/PageNumber';\nimport { BASE_URL } from '../config';\n\nimport { StoreContext } from '../store';\nimport { AuthContext } from '../contexts/AuthProvider';\nimport { mapDoc } from './mapFunction';\n\n// ----------------------------------------------------------------------\n\nexport default function PageTag({ id, title }) {\n  const AuthData = useContext(AuthContext);\n  const { themeStretch } = useSettings();\n  const state = useContext(StoreContext).data[0];\n  const [expanded, setExpanded] = useState(false);\n  const [totalPage, setTotalPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams({ page: '1' });\n  const [documents, setDocuments] = useState([]);\n  useEffect(() => {\n    fetch(`${BASE_URL}/api/${id}?page=${searchParams.get('page')}`, { mode: 'cors' })\n      .then((res) => res.json())\n      .then((data) => {\n        setDocuments(data);\n        const TOTAL_PAGE = Math.ceil(data[0].full_count / 20);\n        setTotalPage(TOTAL_PAGE);\n      })\n      .catch((err) => {\n        console.log(err);\n        setTotalPage(1);\n      });\n    return () => {\n      setDocuments([]);\n    };\n  }, [searchParams, id]);\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  return (\n    <Page title={`${title} | văn mẫu`}>\n      <h1 style={{ marginBottom: '1rem' }}>{title}</h1>\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        {documents[0] === undefined ? (\n          <Stack sx={{ color: 'grey.500' }} spacing={2} direction=\"row\" className=\"loading-spinner\">\n            <CircularProgress color=\"secondary\" />\n          </Stack>\n        ) : (\n          documents.map(mapDoc(expanded, handleChange, AuthData, state))\n        )}\n        <PageNumber searchParams={searchParams} pageCount={totalPage} setSearchParam={setSearchParams} />\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}