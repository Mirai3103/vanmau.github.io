{"version":3,"sources":["pages/pagenumber/PageNumber.js","../node_modules/@mui/icons-material/Delete.js","../node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js","../node_modules/@mui/material/DialogContentText/DialogContentText.js","layouts/dashboard/SurveyDialog.js","pages/PageHome.js"],"names":["BasicPagination","searchParams","pageCount","setSearchParam","dispatch","useContext","StoreContext","data","spacing","color","page","Number","get","size","count","onChange","e","setData","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","getDialogContentTextUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","DialogContentTextRoot","styled","Typography","shouldForwardProp","prop","rootShouldForwardProp","name","overridesResolver","props","styles","root","DialogContentText","React","inProps","ref","useThemeProps","ownerState","_objectWithoutPropertiesLoose","classes","composedClasses","composeClasses","_extends","useUtilityClasses","_jsx","component","variant","AlertDialog","open","setOpen","finished","localStorage","getItem","isFinishedSurvey","setIsFinishedSurvey","reason","setReason","id","Button","onClick","Dialog","onClose","DialogTitle","DialogContent","TextField","placeholder","event","target","DialogActions","reasons","trim","axios","post","BASE_URL","isAgree","then","res","console","log","catch","err","setItem","autoFocus","PageHome","AuthData","AuthContext","state","themeStretch","useSettings","useState","expanded","setExpanded","useSearchParams","setSearchParams","useEffect","length","fetch","mode","json","TOTAL_PAGE","Math","ceil","full_count","setHomeTotalPage","Page","title","style","marginBottom","Container","maxWidth","undefined","Stack","sx","direction","className","CircularProgress","map","document","Accordion","document_id","panel","isExpanded","AccordionSummary","expandIcon","width","user","uid","textAlign","IconButton","documentId","window","location","reload","fontSize","AccordionDetails","content","CopyButton","TagInfo","allTags","PageNumber","homeTotalPage"],"mappings":"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","file":"static/js/4.019e3678.chunk.js","sourcesContent":["import Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport './Style.css';\nimport { useContext } from 'react';\nimport { StoreContext } from '../../store';\nimport { setData } from '../../store/reducer';\n// eslint-disable-next-line react/prop-types\nexport default function BasicPagination({ searchParams, pageCount, setSearchParam }) {\n  const [, dispatch] = useContext(StoreContext).data;\n  return (\n    <Stack spacing={2}>\n      <Pagination\n        color=\"primary\"\n        page={Number(searchParams.get('page'))}\n        size=\"medium\"\n        count={Number(pageCount)}\n        onChange={(e, page) => {\n          setSearchParam({ page: `${page}` });\n          dispatch(setData([]));\n        }}\n      />\n    </Stack>\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nconst dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Typography from '../Typography';\nimport { getDialogContentTextUtilityClass } from './dialogContentTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  const composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\n\nconst DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\nconst DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n\n  const ownerState = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"text.secondary\",\n    ref: ref,\n    ownerState: ownerState\n  }, props, {\n    classes: classes\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.object\n} : void 0;\nexport default DialogContentText;","import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport axios from 'axios';\nimport { TextField } from '@mui/material';\nimport { BASE_URL } from '../../config';\n\nexport default function AlertDialog() {\n  const [open, setOpen] = React.useState(false);\n  const finished = localStorage.getItem('finished');\n  const [isFinishedSurvey, setIsFinishedSurvey] = React.useState(finished === 'yes');\n  const [reason, setReason] = React.useState('');\n  const handleAgree = () => {\n    axios\n      .post(`${BASE_URL}/update/survey`, {\n        isAgree: true\n      })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    setOpen(false);\n    setIsFinishedSurvey(true);\n  };\n  const handleDisagree = () => {\n    const reasons = reason.trim() === '' ? null : reason;\n    axios\n      .post(`${BASE_URL}/update/survey`, {\n        isAgree: false,\n        reason: reasons\n      })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    localStorage.setItem('finished', 'yes');\n    setOpen(false);\n    setIsFinishedSurvey(true);\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleChange = (event) => {\n    setReason(event.target.value);\n  };\n  return (\n    <div id=\"needcenter\">\n      {!isFinishedSurvey ? (\n        <Button variant=\"outlined\" onClick={handleClickOpen}>\n          Khảo sát\n        </Button>\n      ) : null}\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Bạn có thích giao diện hiện tại?</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Vì văn mẫu quá nhiều, hiện đã có tìm theo nhiều tag nhưng chưa các văn chưa được bổ xung tag đầy đủ. Tương\n            lai sẽ có thêm đăng nhập, có quyền thêm sửa xóa với 1 số người.\n            <br />\n            <TextField variant=\"filled\" placeholder=\"Gop y\" value={reason} onChange={handleChange} size=\"medium\" />\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDisagree}>Không Thích</Button>\n          <Button onClick={handleAgree} autoFocus>\n            Thích\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","// material\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  CircularProgress,\n  Container,\n  IconButton,\n  Stack,\n  Typography\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n// hooks\nimport { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport axios from 'axios';\nimport CopyButton from './CopyButton';\nimport useSettings from '../hooks/useSettings';\n// components\nimport Page from '../components/Page';\nimport PageNumber from './pagenumber/PageNumber';\nimport { StoreContext } from '../store';\nimport SurveyDialog from '../layouts/dashboard/SurveyDialog';\nimport { setData, setHomeTotalPage } from '../store/reducer';\nimport { BASE_URL } from '../config';\nimport { TagInfoMemo } from '../components/TagInfo';\nimport { AuthContext } from '../contexts/AuthProvider';\n// ----------------------------------------------------------------------\n\nexport default function PageHome() {\n  const AuthData = useContext(AuthContext);\n  const [state, dispatch] = useContext(StoreContext).data;\n  const { themeStretch } = useSettings();\n  const [expanded, setExpanded] = useState(false);\n  // const [totalPage, setTotalPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams({ page: '1' });\n  useEffect(() => {\n    if (state.data.length === 0) {\n      fetch(`${BASE_URL}/api/home?page=${searchParams.get('page')}`, { mode: 'cors' })\n        .then((res) => res.json())\n        .then((data) => {\n          dispatch(setData(data));\n          const TOTAL_PAGE = Math.ceil(data[0].full_count / 20);\n          dispatch(setHomeTotalPage(TOTAL_PAGE));\n        })\n        .catch((err) => {\n          console.log(err);\n          dispatch(setHomeTotalPage(1));\n        });\n    }\n    return () => {\n      dispatch(setData([]));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, searchParams]);\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  const handleDelete = (event, documentId) => {\n    axios\n      .post(`${BASE_URL}/deleteDocument`, {\n        documentId\n      })\n      .then(() => {\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  return (\n    <Page title=\"Home Page | Văn mẫu\">\n      <SurveyDialog />\n      <h1 style={{ marginBottom: '1rem' }}>Tất cả văn mẫu</h1>\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        {state.data[0] === undefined ? (\n          <Stack sx={{ color: 'grey.500' }} spacing={2} direction=\"row\" className=\"loading-spinner\">\n            <CircularProgress color=\"secondary\" />\n          </Stack>\n        ) : (\n          state.data.map((document) => (\n            <Accordion\n              key={document.document_id}\n              expanded={expanded === document.document_id}\n              onChange={handleChange(document.document_id)}\n            >\n              <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                <div style={{ width: '90%' }}>{document.title}</div>\n                {AuthData.user.uid === 'RIrcjAX7YFf32qwYaGEqIfV7AgK2' ? (\n                  <div style={{ width: '10%', textAlign: 'end' }}>\n                    <IconButton aria-label=\"delete\" size=\"small\" onClick={(e) => handleDelete(e, document.document_id)}>\n                      <DeleteIcon fontSize=\"inherit\" />\n                    </IconButton>\n                  </div>\n                ) : null}\n              </AccordionSummary>\n              <AccordionDetails>\n                <Typography>{document.content}</Typography>\n                <br />\n                <Stack className=\"copy-button\" direction=\"row\" spacing={2}>\n                  <CopyButton id={document.document_id} content={document.content} />\n                  <TagInfoMemo documentId={document.document_id} allTags={state.allTags} />\n                </Stack>\n              </AccordionDetails>\n            </Accordion>\n          ))\n        )}\n        <PageNumber searchParams={searchParams} pageCount={state.homeTotalPage} setSearchParam={setSearchParams} />\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}