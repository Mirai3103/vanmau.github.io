{"version":3,"sources":["pages/pagenumber/PageNumber.js","pages/PageTag.js"],"names":["BasicPagination","searchParams","pageCount","setSearchParam","dispatch","useContext","StoreContext","data","spacing","color","page","Number","get","size","count","onChange","e","setData","PageTag","id","title","themeStretch","useSettings","state","useState","expanded","setExpanded","totalPage","setTotalPage","useSearchParams","setSearchParams","documents","setDocuments","useEffect","fetch","BASE_URL","mode","then","res","json","TOTAL_PAGE","Math","ceil","full_count","catch","err","console","log","style","marginBottom","maxWidth","undefined","sx","direction","className","map","document","document_id","panel","event","isExpanded","expandIcon","content","documentId","allTags"],"mappings":"uPAOe,SAASA,EAAT,GAAuE,IAA5CC,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,eACxDC,EAAT,YAAqBC,qBAAWC,KAAcC,KAA9C,MACA,OACE,cAAC,IAAD,CAAOC,QAAS,EAAhB,SACE,cAAC,IAAD,CACEC,MAAM,UACNC,KAAMC,OAAOV,EAAaW,IAAI,SAC9BC,KAAK,SACLC,MAAOH,OAAOT,GACda,SAAU,SAACC,EAAGN,GACZP,EAAe,CAAEO,KAAK,GAAD,OAAKA,KAC1BN,EAASa,YAAQ,Y,qRCOZ,SAASC,EAAT,GAAiC,IAAdC,EAAa,EAAbA,GAAIC,EAAS,EAATA,MAC5BC,EAAiBC,cAAjBD,aACFE,EAAQlB,qBAAWC,KAAcC,KAAK,GAC5C,EAAgCiB,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAkCF,mBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAwCC,YAAgB,CAAEnB,KAAM,MAAhE,mBAAOT,EAAP,KAAqB6B,EAArB,KACA,EAAkCN,mBAAS,IAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KACAC,qBAAU,WAYR,OAXAC,MAAM,GAAD,OAAIC,IAAJ,gBAAoBhB,EAApB,iBAA+BlB,EAAaW,IAAI,SAAW,CAAEwB,KAAM,SACrEC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAC9B,GACLyB,EAAazB,GACb,IAAMiC,EAAaC,KAAKC,KAAKnC,EAAK,GAAGoC,WAAa,IAClDf,EAAaY,MAEdI,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZjB,EAAa,MAEV,WACLI,EAAa,OAEd,CAAC/B,EAAckB,IAIlB,OACE,eAAC,IAAD,CAAMC,MAAK,UAAKA,EAAL,wBAAX,UACE,oBAAI4B,MAAO,CAAEC,aAAc,QAA3B,SAAsC7B,IACtC,eAAC,IAAD,CAAW8B,UAAU7B,GAAuB,KAA5C,eACoB8B,IAAjBpB,EAAU,GACT,cAAC,IAAD,CAAOqB,GAAI,CAAE3C,MAAO,YAAcD,QAAS,EAAG6C,UAAU,MAAMC,UAAU,kBAAxE,SACE,cAAC,IAAD,CAAkB7C,MAAM,gBAG1BsB,EAAUwB,KAAI,SAACC,GAAD,OACZ,eAAC,IAAD,CAEE/B,SAAUA,IAAa+B,EAASC,YAChC1C,UAhBU2C,EAgBaF,EAASC,YAhBZ,SAACE,EAAOC,GACtClC,IAAYkC,GAAaF,KAYjB,UAKE,cAAC,IAAD,CAAkBG,WAAY,cAAC,IAAD,IAAoB,gBAAc,kBAAkB1C,GAAG,iBAArF,SACE,cAAC,IAAD,UAAaqC,EAASpC,UAExB,eAAC,IAAD,WACE,cAAC,IAAD,UAAaoC,EAASM,UACtB,uBACA,eAAC,IAAD,CAAOR,UAAU,cAAcD,UAAU,MAAM7C,QAAS,EAAxD,UACE,cAAC,IAAD,CAAYW,GAAIqC,EAASC,YAAaK,QAASN,EAASM,UACxD,cAAC,IAAD,CAAaC,WAAYP,EAASC,YAAaO,QAASzC,EAAMyC,kBAZ7DR,EAASC,aAdL,IAACC,KAgChB,cAAC,IAAD,CAAYzD,aAAcA,EAAcC,UAAWyB,EAAWxB,eAAgB2B","file":"static/js/5.91571103.chunk.js","sourcesContent":["import Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport './Style.css';\nimport { useContext } from 'react';\nimport { StoreContext } from '../../store';\nimport { setData } from '../../store/reducer';\n// eslint-disable-next-line react/prop-types\nexport default function BasicPagination({ searchParams, pageCount, setSearchParam }) {\n  const [, dispatch] = useContext(StoreContext).data;\n  return (\n    <Stack spacing={2}>\n      <Pagination\n        color=\"primary\"\n        page={Number(searchParams.get('page'))}\n        size=\"medium\"\n        count={Number(pageCount)}\n        onChange={(e, page) => {\n          setSearchParam({ page: `${page}` });\n          dispatch(setData([]));\n        }}\n      />\n    </Stack>\n  );\n}\n","// material\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  CircularProgress,\n  Container,\n  Stack,\n  Typography\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n// hooks\nimport { useContext, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport CopyButton from './CopyButton';\nimport useSettings from '../hooks/useSettings';\n// components\nimport Page from '../components/Page';\nimport PageNumber from './pagenumber/PageNumber';\nimport { BASE_URL } from '../config';\nimport { TagInfoMemo } from '../components/TagInfo';\nimport { StoreContext } from '../store';\n\n// ----------------------------------------------------------------------\n\nexport default function PageTag({ id, title }) {\n  const { themeStretch } = useSettings();\n  const state = useContext(StoreContext).data[0];\n  const [expanded, setExpanded] = useState(false);\n  const [totalPage, setTotalPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams({ page: '1' });\n  const [documents, setDocuments] = useState([]);\n  useEffect(() => {\n    fetch(`${BASE_URL}/api/${id}?page=${searchParams.get('page')}`, { mode: 'cors' })\n      .then((res) => res.json())\n      .then((data) => {\n        setDocuments(data);\n        const TOTAL_PAGE = Math.ceil(data[0].full_count / 20);\n        setTotalPage(TOTAL_PAGE);\n      })\n      .catch((err) => {\n        console.log(err);\n        setTotalPage(1);\n      });\n    return () => {\n      setDocuments([]);\n    };\n  }, [searchParams, id]);\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  return (\n    <Page title={`${title} | văn mẫu`}>\n      <h1 style={{ marginBottom: '1rem' }}>{title}</h1>\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        {documents[0] === undefined ? (\n          <Stack sx={{ color: 'grey.500' }} spacing={2} direction=\"row\" className=\"loading-spinner\">\n            <CircularProgress color=\"secondary\" />\n          </Stack>\n        ) : (\n          documents.map((document) => (\n            <Accordion\n              key={document.document_id}\n              expanded={expanded === document.document_id}\n              onChange={handleChange(document.document_id)}\n            >\n              <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n                <Typography>{document.title}</Typography>\n              </AccordionSummary>\n              <AccordionDetails>\n                <Typography>{document.content}</Typography>\n                <br />\n                <Stack className=\"copy-button\" direction=\"row\" spacing={2}>\n                  <CopyButton id={document.document_id} content={document.content} />\n                  <TagInfoMemo documentId={document.document_id} allTags={state.allTags} />\n                </Stack>\n              </AccordionDetails>\n            </Accordion>\n          ))\n        )}\n        <PageNumber searchParams={searchParams} pageCount={totalPage} setSearchParam={setSearchParams} />\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}